@model UrlShortener.MVC.Data.Entities.Url

@* @{
    ViewData["Title"] = "Delete";
} *@


<div class="container my-auto">
    <div class="row justify-content-center">
        <div class="col-lg-12">
            <div class="card shadow-sm border-0">
                <div class="card-body">
                    <div class="d-flex align-items-start ">
                        <div class="flex-shrink-0">
                            <svg width="42" height="42" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <path d="M12 2v12" stroke="#d9534f" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M3 12h18" stroke="#d9534f" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </div>
                        <div class="flex-grow-1">
                            <h3 class="mb-1 text-danger">Delete URL</h3>
                            <p class="text-muted mb-3">This action cannot be undone. Review the URL details below and confirm deletion.</p>

                            <dl class="row mb-3">
                                <dt class="col-sm-3 text-muted">Original URL</dt>
                                <dd class="col-sm-9">
                                    <a href="@Model.OriginalUrl" target="_blank" rel="noopener noreferrer" class="text-break">
                                        @Model.OriginalUrl
                                    </a>
                                </dd>

                                <dt class="col-sm-3">Short Link</dt>
                                <dd class="col-sm-9">
                                    <a href="@($"/r/{Model.ShortCode}")" target="_blank" rel="noopener noreferrer">
                                        @Model.ShortCode
                                    </a>
                                </dd>

                                <dt class="col-sm-3 text-muted">Short Code</dt>
                                <dd class="col-sm-9">@Model.ShortCode</dd>

                                <dt class="col-sm-3 text-muted">Clicks</dt>
                                <dd class="col-sm-9">@Model.ClickCount</dd>

                                <dt class="col-sm-3 text-muted">Created</dt>
                                <dd class="col-sm-9">@Model.CreatedAt.ToString("g")</dd>

                                <dt class="col-sm-3 text-muted">Owner</dt>
                                <dd class="col-sm-9">@Model.UserId</dd>
                            </dl>

                            <div class="d-flex gap-2">
                                @* <a asp-action="Create" class="btn btn-outline-secondary">Back to list</a> *@
                                <button type="button" class="btn btn-outline-secondary" onclick="closeModal()">Cancel</button>

                                <form asp-action="Delete">
                                     <input type="hidden" asp-for="Id" />
                                    <button type="button" class="btn btn-danger" onclick="deleteUrl(@Model.Id)" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal">
                                        <svg class="me-1" width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                            <path d="M3 6h18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                            <path d="M8 6v12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                            <path d="M16 6v12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                            <path d="M10 6V4a2 2 0 0 1 2-2h0a2 2 0 0 1 2 2v2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                        </svg>
                                        Delete
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    @* <form asp-action="Delete">
        <input type="hidden" asp-for="Id" />
        <input type="button" onclick="deleteUrl(@Model.Id)" value="Delete" class="btn btn-danger" />
    </form> *@
</div>
